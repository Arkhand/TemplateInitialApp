/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";var F={getPropertySetterChanges:function(d){var c=d.control;var e=d.existingState;var C=d.changedState;var o=d.operation;var s=d.deltaAttribute;var S=[];C.forEach(function(i){if(i.hasOwnProperty(s)){var E=e.find(function(a){return a.name==i.name;});var O=E&&E.hasOwnProperty(s)&&E[s];var n=i[s];var v=O!==n;if(v){S.push(this.createChange(c,o,{name:i.name,value:i[s]}));}}}.bind(this));return S;},_getChangeContent:function(p,d){var c={};if(p.index>=0){c.index=p.index;}d.forEach(function(a){if(p.hasOwnProperty(a)){c[a]=p[a];}});return c;},_hasProperty:function(p,n){return p.some(function(P){var v=P.name===n||n=="$search";v=v?v:P.path===n;return v;});},createChange:function(c,o,C){var a={selectorElement:c,changeSpecificData:{changeType:o,content:C}};return a;},createConditionChange:function(c,C,f,o){delete o.filtered;var a={selectorElement:C,changeSpecificData:{changeType:c,content:{name:f,condition:o}}};return a;},handleChanges:function(c,i,u){return new Promise(function(r,a){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.add({changes:c,ignoreVariantManagement:i,useStaticArea:u}).then(function(d){r(d);},a);});});},saveChanges:function(c,d){return new Promise(function(r,a){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.save({selector:c,changes:d}).then(r);});});},restore:function(p){return new Promise(function(r,a){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.restore(p).then(function(){r();},a);});});},reset:function(p){return new Promise(function(r,a){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(C){C.reset(p).then(function(){r();},a);});});}};return F;});
